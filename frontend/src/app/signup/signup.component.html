<section id="signUp" class="min-vh-100 bg-dark">
  <div class="container">
    <div class="row">
      <form
        [formGroup]="signUpForm"
        (ngSubmit)="addUser()"
        class="signUp-form w-50 position-absolute start-50 top-50 translate-middle"
      >
        <div class="col-md-12 mb-3">
          <div class="col-md-12 mb-3">
            <div *ngIf="!available" class="p-1 my-1 alert alert-danger">
              <p class="m-0">Email is already in use!!</p>
            </div>
            <input
              [class.is-valid]="signUpForm.controls['name'].status === 'VALID'"
              formControlName="name"
              type="text"
              class="form-control"
              placeholder="Enter your name"
            />
            <div *ngIf="signUpForm.get('name')?.errors && signUpForm.get('name')?.touched" class="alert alert-info p-2 my-1">
              <p *ngIf="signUpForm.get('name')?.getError('required')" class="m-0">Name is required</p>
              <p *ngIf="signUpForm.get('name')?.getError('minlength')" class="m-0">minimum length is 3</p>
              <p *ngIf="signUpForm.get('name')?.getError('maxlength')" class="m-0">maximum length is 20</p>
            </div>
          </div>
        </div>
        <div class="col-md-12 mb-3">
          <input
          [class.is-valid]="signUpForm.controls['email'].status === 'VALID'"
            formControlName="email"
            type="email"
            class="form-control"
            placeholder="Enter your Email"
          />
          <div *ngIf="signUpForm.get('email')?.errors && signUpForm.get('email')?.touched" class="alert alert-info p-2 my-1">
            <p *ngIf="signUpForm.get('email')?.getError('required')" class="m-0">email is required</p>
            <p *ngIf="signUpForm.get('email')?.getError('email')" class="m-0">Enter correct email</p>
          </div>
        </div>
        <div class="col-md-12 mb-3">
          <input
          [class.is-valid]="signUpForm.controls['password'].status === 'VALID'"
            formControlName="password"
            type="password"
            class="form-control"
            placeholder="Enter your password"
          />
          <div *ngIf="signUpForm.get('password')?.errors && signUpForm.get('password')?.touched" class="alert alert-info p-2 my-1">
            <p *ngIf="signUpForm.get('password')?.getError('required')" class="m-0">password is required</p>
            <p *ngIf="signUpForm.get('password')?.getError('pattern')" class="m-0">password must be from a to z and atleast 4 characters</p>
          </div>
        </div>
        <div class="col-md-12 mb-3">
          <input
          [class.is-valid]="signUpForm.controls['phone'].status === 'VALID'"
            formControlName="phone"
            type="tel"
            class="form-control"
            placeholder="Enter your phone number"
          />
          <div *ngIf="signUpForm.get('phone')?.errors && signUpForm.get('phone')?.touched" class="alert alert-info p-2 my-1">
            <p *ngIf="signUpForm.get('phone')?.getError('required')" class="m-0">phone is required</p>
            <p *ngIf="signUpForm.get('phone')?.getError('minlength')" class="m-0">minimum length is 10</p>
            <p *ngIf="signUpForm.get('phone')?.getError('maxlength')" class="m-0">maximum length is 14</p>
          </div>
        </div>
        <div class="col-md-12 mb-3">
          <input
            [disabled]="signUpForm.invalid"
            [ngClass]="
              signUpForm.invalid
                ? ['bg-secondary', 'border-secondary']
                : 'bg-info'
            "
            type="submit"
            class="form-control btn btn-info w-100"
            [value]="loading?'Loading...':'Submit'"
          />
        </div>
      </form>
    </div>
  </div>
</section>
